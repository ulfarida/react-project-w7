{"ast":null,"code":"var _jsxFileName = \"/home/alta5/Documents/GIT-PROJ/react-project-w7/recipe_com/src/pages/category.jsx\";\nimport React from 'react';\nimport Header from '../components/Header';\nimport ListRecipe from '../components/ListRecipe';\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../store/store\";\nimport '../style/bootstrap.min.css';\nimport '../style/home.css';\nconst urlHeadLine = \"https://api.edamam.com/search?app_id=7173ea48&app_key=609f58237cd3b846b334f7b7e3f681b2&q=\";\n\nclass Category extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getRecipe = async () => {\n      const category = await this.props.match.params.category;\n      this.props.setChange('category', category);\n      await this.props.handleGetApi(urlHeadLine + category);\n      const data = await this.props.data;\n\n      if (data.hits !== undefined) {\n        const dict = {\n          isLoading: false,\n          listRecipe: data.hits\n        };\n        await this.props.setManyChanges(dict);\n      }\n    };\n\n    this.componentDidMount = async () => {\n      await this.getRecipe();\n    };\n\n    this.componentDidUpdate = async () => {\n      console.log('this is inside will update');\n      const category = await this.props.match.params.category;\n      console.log(category, this.props.category);\n\n      if (this.props.category !== category) {\n        await this.props.setChange('isLoading', true);\n        console.log('check change', this.props.isLoading);\n      }\n    };\n\n    this.componentWillUpdate = async () => {\n      console.log('this is inside update');\n      const category = await this.props.match.params.category;\n\n      if (this.props.category !== category) {\n        await this.getRecipe();\n        await this.props.setChange('category', category);\n      }\n    };\n  }\n\n  render() {\n    console.log(this.props.isLoading);\n    let recipeToShow;\n\n    if (this.props.listRecipe !== undefined && this.props.listRecipe !== null) {\n      const listRecipe = this.props.listRecipe;\n      console.log(listRecipe);\n      recipeToShow = listRecipe.map(item => {\n        return React.createElement(ListRecipe, {\n          image: item.recipe.image,\n          title: item.recipe.label,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        });\n      });\n    }\n\n    if (this.props.auth == false) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: '/login'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, this.props.isLoading ? null : React.createElement(\"div\", {\n        className: \"row search-result\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, recipeToShow)));\n    }\n  }\n\n}\n\nexport default connect('isLoading, data, search, listRecipe, category', actions)(withRouter(Category));","map":{"version":3,"sources":["/home/alta5/Documents/GIT-PROJ/react-project-w7/recipe_com/src/pages/category.jsx"],"names":["React","Header","ListRecipe","withRouter","Redirect","connect","actions","urlHeadLine","Category","Component","getRecipe","category","props","match","params","setChange","handleGetApi","data","hits","undefined","dict","isLoading","listRecipe","setManyChanges","componentDidMount","componentDidUpdate","console","log","componentWillUpdate","render","recipeToShow","map","item","recipe","image","label","auth","pathname"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from '../components/Header'; \nimport ListRecipe from '../components/ListRecipe';\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../store/store\";\nimport '../style/bootstrap.min.css'\nimport '../style/home.css'\n\nconst urlHeadLine = \"https://api.edamam.com/search?app_id=7173ea48&app_key=609f58237cd3b846b334f7b7e3f681b2&q=\"\n\nclass Category extends React.Component {\n    getRecipe = async () => {\n        const category = await this.props.match.params.category\n        this.props.setChange('category', category)\n        await this.props.handleGetApi(urlHeadLine+category)\n        const data = await this.props.data\n        if(data.hits!==undefined){\n            const dict = {\n                isLoading: false,\n                listRecipe: data.hits\n            }\n            await this.props.setManyChanges(dict)\n        }\n    }\n\n    componentDidMount = async () =>{\n        await this.getRecipe()\n    }\n\n    componentDidUpdate = async () => {\n        console.log('this is inside will update')\n        const category = await this.props.match.params.category\n        console.log(category, this.props.category)\n        if(this.props.category!==category){\n            await this.props.setChange('isLoading', true)\n            console.log('check change', this.props.isLoading)\n        }\n    }\n\n    componentWillUpdate = async () =>{\n        console.log('this is inside update')\n        const category = await this.props.match.params.category\n        if(this.props.category!==category){\n            await this.getRecipe()\n            await this.props.setChange('category', category)\n        }\n    }\n\n\n    render () {\n        console.log(this.props.isLoading)\n        let recipeToShow;\n        if(this.props.listRecipe!==undefined && this.props.listRecipe!==null){\n            const listRecipe = this.props.listRecipe;\n            console.log(listRecipe)\n            recipeToShow = listRecipe.map((item)=>{\n                return(\n                    <ListRecipe\n                    image={item.recipe.image}\n                    title={item.recipe.label}\n                    />\n                )\n            })\n        }\n\n        if(this.props.auth==false){\n            return(\n                <Redirect to={{pathname:'/login'}}/>\n            )\n        } else{\n            return (\n                <React.Fragment>\n                    <Header />\n                    <div className=\"container-fluid\">\n                        {this.props.isLoading?\n                        null\n                        :\n                        <div className=\"row search-result\">\n                            {recipeToShow}\n                        </div>\n                        }\n                    </div>\n                </React.Fragment>\n\n            )\n        }\n    }\n}\nexport default connect('isLoading, data, search, listRecipe, category',actions)(withRouter(Category));\n"]},"metadata":{},"sourceType":"module"}