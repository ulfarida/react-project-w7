{"ast":null,"code":"var _jsxFileName = \"/home/alta5/Documents/GIT-PROJ/react-project-w7/recipe_com/src/pages/category.jsx\";\nimport React from 'react';\nimport Header from '../components/Header';\nimport ListRecipe from '../components/ListRecipe';\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../store/store\";\nimport '../style/bootstrap.min.css';\nimport '../style/home.css';\nimport '../style/recipe.css';\nimport '../style/loading.css';\nconst urlHeadLine = \"https://api.edamam.com/search?to=21&app_id=7173ea48&app_key=609f58237cd3b846b334f7b7e3f681b2&q=\";\n\nclass Category extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getRecipe = async () => {\n      const category = await this.props.match.params.category;\n      this.props.setChange('category', category);\n      await this.props.handleGetApi(urlHeadLine + category);\n      const data = await this.props.data;\n\n      if (data.hits !== undefined) {\n        const dict = {\n          isLoading: false,\n          listRecipe: data.hits\n        };\n        await this.props.setManyChanges(dict);\n      }\n    };\n\n    this.componentDidMount = async () => {\n      await this.getRecipe();\n    };\n\n    this.componentWillUnmount = async () => {\n      await this.props.setChange('isLoading', true);\n    };\n\n    this.componentDidUpdate = async () => {\n      console.log('this is inside will update');\n      const category = await this.props.match.params.category;\n      console.log(category, this.props.category);\n\n      if (this.props.category !== category) {\n        await this.props.setChange('isLoading', true);\n        console.log('check change', this.props.isLoading);\n      }\n    };\n\n    this.componentWillUpdate = async () => {\n      console.log('this is inside update');\n      const category = await this.props.match.params.category;\n\n      if (this.props.category !== category) {\n        await this.getRecipe();\n        await this.props.setChange('category', category);\n      }\n    };\n  }\n\n  render() {\n    console.log(this.props.isLoading);\n    let recipeToShow;\n\n    if (this.props.listRecipe !== undefined && this.props.listRecipe !== null) {\n      const listRecipe = this.props.listRecipe;\n      console.log(listRecipe);\n      recipeToShow = listRecipe.map((item, key) => {\n        return React.createElement(ListRecipe, Object.assign({\n          key: key,\n          number: key,\n          image: item.recipe.image,\n          title: item.recipe.label\n        }, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }));\n      });\n    }\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.props.isLoading ? React.createElement(\"div\", {\n      className: \"loading-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"cached\")) : React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"category-title text-center brief-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, this.props.category)), React.createElement(\"div\", {\n      className: \"row search-result\",\n      style: {\n        marginTop: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, recipeToShow))));\n  }\n\n}\n\nexport default connect('isLoading, data, search, listRecipe, category, auth', actions)(withRouter(Category));","map":{"version":3,"sources":["/home/alta5/Documents/GIT-PROJ/react-project-w7/recipe_com/src/pages/category.jsx"],"names":["React","Header","ListRecipe","withRouter","Redirect","Link","connect","actions","urlHeadLine","Category","Component","getRecipe","category","props","match","params","setChange","handleGetApi","data","hits","undefined","dict","isLoading","listRecipe","setManyChanges","componentDidMount","componentWillUnmount","componentDidUpdate","console","log","componentWillUpdate","render","recipeToShow","map","item","key","recipe","image","label","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from '../components/Header'; \nimport ListRecipe from '../components/ListRecipe';\nimport { withRouter, Redirect, Link } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../store/store\";\nimport '../style/bootstrap.min.css'\nimport '../style/home.css'\nimport '../style/recipe.css'\nimport '../style/loading.css'\n\nconst urlHeadLine = \"https://api.edamam.com/search?to=21&app_id=7173ea48&app_key=609f58237cd3b846b334f7b7e3f681b2&q=\"\n\nclass Category extends React.Component {\n    getRecipe = async () => {\n        const category = await this.props.match.params.category\n        this.props.setChange('category', category)\n        await this.props.handleGetApi(urlHeadLine+category)\n        const data = await this.props.data\n        if(data.hits!==undefined){\n            const dict = {\n                isLoading: false,\n                listRecipe: data.hits\n            }\n            await this.props.setManyChanges(dict)\n        }\n    }\n\n    componentDidMount = async () =>{\n        await this.getRecipe()\n    }\n\n    componentWillUnmount = async () => {\n        await this.props.setChange('isLoading', true)\n    }\n\n    componentDidUpdate = async () => {\n        console.log('this is inside will update')\n        const category = await this.props.match.params.category\n        console.log(category, this.props.category)\n        if(this.props.category!==category){\n            await this.props.setChange('isLoading', true)\n            console.log('check change', this.props.isLoading)\n        }\n    }\n\n    componentWillUpdate = async () =>{\n        console.log('this is inside update')\n        const category = await this.props.match.params.category\n        if(this.props.category!==category){\n            await this.getRecipe()\n            await this.props.setChange('category', category)\n        }\n    }\n\n\n    render () {\n        console.log(this.props.isLoading)\n        let recipeToShow;\n        if(this.props.listRecipe!==undefined && this.props.listRecipe!==null){\n            const listRecipe = this.props.listRecipe;\n            console.log(listRecipe)\n            recipeToShow = listRecipe.map((item, key)=>{\n                return(\n                    <ListRecipe\n                    key={key}\n                    number={key}\n                    image={item.recipe.image}\n                    title={item.recipe.label}\n                    {...this.props}\n                    />\n                )\n            })\n        }\n\n    return (\n        <React.Fragment>\n            <Header />\n            <div className=\"container-fluid\">\n                {this.props.isLoading?\n                <div className=\"loading-box\">\n                    <i className=\"material-icons\">cached</i>\n                </div>\n                :\n                <React.Fragment>\n                    <div className=\"category-title text-center brief-box\">\n                        <h1>{this.props.category}</h1>\n                    </div>\n                    <div className=\"row search-result\" style={{marginTop:'20px'}}>\n                        {recipeToShow}\n                    </div>\n                </React.Fragment>\n                }\n            </div>\n        </React.Fragment>\n\n        )\n        \n    }\n}\nexport default connect('isLoading, data, search, listRecipe, category, auth',actions)(withRouter(Category));\n"]},"metadata":{},"sourceType":"module"}